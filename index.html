<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hacker News Items</title>
</head>
<body>
<h1>Hacker News Items</h1>
<table border="1" id="hn-table">
<thead>
<tr>
<th>Title</th>
<th style="text-align:center; cursor: pointer;" onclick="sortTable(1)">Author</th>
<th style="text-align:center; cursor: pointer;" onclick="sortTable(2)">Comments</th>
<th style="text-align:center; cursor: pointer;" onclick="sortTable(3)">Created Date</th>
<th style="text-align:center; cursor: pointer;" onclick="sortTable(4)">Points</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<script>
const sortOrders = [null, "asc", "asc", "asc"];
function sortTable(columnIndex) {
    const table = document.querySelector("#hn-table");
    const tbody = table.querySelector("tbody");
    const rows = Array.from(tbody.querySelectorAll("tr"));

    let sortOrder = sortOrders[columnIndex];

    if (sortOrder === "asc") {
        sortOrder = "desc";
    } else {
        sortOrder = "asc";
    }

    sortOrders[columnIndex] = sortOrder;

    rows.sort((a, b) => {
        const aValue = (columnIndex === 2 || columnIndex === 4) ? parseInt(a.children[columnIndex].textContent) : a.children[columnIndex].textContent;
        const bValue = (columnIndex === 2 || columnIndex === 4) ? parseInt(b.children[columnIndex].textContent) : b.children[columnIndex].textContent;

        if (sortOrder === "asc") {
            return (columnIndex === 2 || columnIndex === 4) ? aValue - bValue : aValue.localeCompare(bValue);
        } else {
            return (columnIndex === 2 || columnIndex === 4) ? bValue - aValue : bValue.localeCompare(aValue);
        }
    });

    tbody.innerHTML = "";
    rows.forEach(row => tbody.appendChild(row));
}
</script>
</body>
</html>
